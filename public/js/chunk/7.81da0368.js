(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"./app/web/page/admin/view/summary/monthsummary.vue":function(e,t,a){"use strict";a.r(t);var s=a("./app/web/page/admin/store/mutation-type.js"),n={components:{},data:function(){return{q:{title:void 0,categoryId:void 0,statusId:void 0,pageIndex:1,pageSize:10},loading:!1,batchSelectArray:[]}},methods:{fetchApi:function(e,t){var a=e.$store;e.$router;return a.dispatch(s.c,t)},query:function(){this.fetchApi(this,this.q)},write:function(){this.$router.push("/article/add")},handleSelectionChange:function(e){console.log("handleSelectionChange",e)},handleSizeChange:function(e){console.log("每页 "+e+" 条"),this.q.pageSize=e,this.fetchApi(this,this.q)},handleCurrentChange:function(e){console.log("当前页: "+e),this.q.pageIndex=e,this.fetchApi(this,this.q)},handleEdit:function(e,t){this.$message("你点击了编辑操作 index:"+e+", id:"+t.id)},handleDelete:function(e,t){this.$store.dispatch(s.a,{id:t.id}),this.$message("删除["+t.title+"]成功!")},batchSelect:function(e){this.batchSelectArray=e},batchDel:function(){var e=this;this.$confirm("将批量删除选择文章, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.loading=!0,e.$message.success(msg),e.loading=!1})}},computed:{status:function(){return[{status:void 0,name:"--请选择--"},{status:1,name:"已发布"},{status:2,name:"草稿"}]},categories:function(){return[{categoryId:0,name:"--请选择--"},{categoryId:1,name:"Nodejs"},{categoryId:2,name:"Webpack"},{categoryId:3,name:"Egg"}]},total:function(){return this.$store.state.articleTotal},articleList:function(){return this.$store.state.articleList}}},o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",[e._v("每月汇总")]),e._v(" "),a("div",{staticClass:"search"},[a("el-row",{staticClass:"clear"},[a("label",[e._v(" 标题:")]),a("el-input",{staticClass:"search-input",attrs:{clearable:"",placeholder:"关键字"},model:{value:e.q.title,callback:function(t){e.$set(e.q,"title",t)},expression:"q.title"}}),e._v(" "),a("label",[e._v(" 分类:")]),a("el-select",{attrs:{placeholder:"分类"},model:{value:e.q.categoryId,callback:function(t){e.$set(e.q,"categoryId",t)},expression:"q.categoryId"}},e._l(e.categories,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.categoryId}})})),e._v(" "),a("label",[e._v(" 状态:")]),a("el-select",{attrs:{placeholder:"状态"},model:{value:e.q.status,callback:function(t){e.$set(e.q,"status",t)},expression:"q.status"}},e._l(e.status,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.status}})})),e._v(" "),a("el-button",{staticClass:"search-button",attrs:{type:"primary"},on:{click:function(t){e.query()}}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"add-button",attrs:{type:"success"},on:{click:function(t){e.write()}}},[e._v("写文章")])],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.articleList,"element-loading-text":"拼命加载中",border:""},on:{"selection-change":e.batchSelect}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{prop:"title",label:"标题"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:"/article/detail/"+t.row.id}},[e._v(e._s(t.row.title))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"hits",label:"点赞",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{domProps:{textContent:e._s(1==t.row.status?"已发布":"草稿")}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{attrs:{to:{params:{id:t.row.id}},tag:"span"}},[a("el-button",{attrs:{type:"info",size:"small",icon:"edit"},on:{click:function(a){e.handleEdit(t.$index,t.row)}}},[e._v("修改")])],1),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small",icon:"delete"},on:{click:function(a){e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),a("div",{staticStyle:{"margin-top":"16px"}},[a("div",{staticStyle:{float:"left"}},[a("el-button",{attrs:{slot:"handler",type:"danger",icon:"delete",size:"small",disabled:0===e.batchSelectArray.length},on:{click:e.batchDel},slot:"handler"},[a("span",[e._v("批量删除")])])],1),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("el-pagination",{attrs:{"current-page":e.q.pageIndex,"page-sizes":[10,15,20,50],"page-size":e.q.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)};o._withStripped=!0;var i=a("./node_modules/vue-loader/lib/runtime/component-normalizer.js"),l=!1;var r=function(e){l||a('./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?{"minimize":true}!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"scoped":false,"sourceMap":false}!./node_modules/postcss-loader/src/index.js?{"ident":"postcss","config":{"path":"/Users/fangniu/Documents/niu/smart-classroom/smart-classroom/node_modules/easywebpack/config"}}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./app/web/page/admin/view/summary/monthsummary.vue')},c=Object(i.a)(n,o,[],!1,r,null,null);c.options.__file="app/web/page/admin/view/summary/monthsummary.vue";t.default=c.exports},'./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js?{"minimize":true}!./node_modules/vue-loader/lib/style-compiler/index.js?{"optionsId":"0","vue":true,"scoped":false,"sourceMap":false}!./node_modules/postcss-loader/src/index.js?{"ident":"postcss","config":{"path":"/Users/fangniu/Documents/niu/smart-classroom/smart-classroom/node_modules/easywebpack/config"}}!./node_modules/vue-loader/lib/selector.js?type=styles&index=0!./app/web/page/admin/view/summary/monthsummary.vue':function(e,t,a){}}]);